<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"
      rel="stylesheet"/>

<div class="container">
  <div class="row">
    <div class="col-md-offset-3 col-md-6">
      <div class="tab" role="tabpanel">
        <div class="logo mb-5">
          <a routerLink="/">Free Online Library</a>
        </div>

        <!-- Nav tabs -->
        <ul class="nav nav-tabs " role="tablist">
          <li role="presentation"><a aria-controls="home" role="tab" routerLink="/login">sign in</a>
          </li>
          <li class="active" role="presentation"><a aria-controls="profile" role="tab">sign up</a>
          </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content tabs">
          <div class="tab-pane fade in active" id="Section2" role="tabpanel">
            <form (ngSubmit)="register()" [formGroup]="regGroup" class="form-horizontal">
              <!-- Username -->
              <div class="form-group">
                <label for="username">Username</label>
                <input autocomplete="off" class="form-control" formControlName="username"
                       id="username"
                       maxlength="20" name="login" required type="text">
              </div>
              <div *ngIf="username!.invalid && username!.dirty && !username!.errors!.required"
                   class="alert alert-warning text-center" role="alert">
                <div *ngIf="username!.errors!.minlength">
                  Should be at least 4 characters
                </div>
                <div *ngIf="username!.errors!.pattern">
                  Should include only latins and numbers and starts with letter
                </div>
              </div>

              <!-- Email -->
              <div class="form-group">
                <label for="email1">Email address</label>
                <input class="form-control" formControlName="email" id="email1" maxlength="254"
                       name="email" required type="email">
              </div>

              <!--Password-->
              <div class="form-group">
                <label for="password">Password</label>
                <input autocomplete="off" class="form-control" formControlName="password"
                       id="password" maxlength="30"
                       name="password" required type="password">
              </div>
              <div *ngIf="password!.invalid && ( password!.dirty) && password!.errors!.pattern"
                   class="alert alert-warning text-center" role="alert">
                Should contain at least 8 characters, 1 upper and 1 number
              </div>

              <!-- Confirm Password -->
              <div class="form-group">
                <label for="passwordConfirm">Confirm password</label>
                <input autocomplete="off" class="form-control" formControlName="confirmPassword"
                       id="passwordConfirm"
                       maxlength="30" name="passwordConfirm" required type="password">
              </div>
              <div
                *ngIf="confirmPassword!.invalid && confirmPassword!.dirty || confirmPassword!.value!=password!.value"
                class="alert alert-warning text-center" role="alert">
                Passwords are not equal
              </div>

              <!-- Message -->
              <div *ngIf="isError" class="alert alert-danger text-center" role="alert">
                Something went wrong! Please try again!
              </div>

              <!-- Reg button -->
              <div class="form-group">
                <button [disabled]="regGroup.invalid || password!.value != confirmPassword!.value"
                        class="btn btn-default" type="submit">
                  Sign up
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
